{% extends 'base.html' %}
{% load static %}

{% block title %}Liên hệ{% endblock title %}

{% block extra_css %}
<style>
    .contact-card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border-radius: 10px;
        overflow: hidden;
    }
    
    .contact-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }
    
    .contact-icon {
        font-size: 2.5rem;
        color: #0d6efd;
        margin-bottom: 1rem;
    }
    
    .contact-section {
        padding: 5rem 0;
        background-color: #f8f9fa;
    }
    
    .map-container {
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(0,0,0,0.08);
    }
    
    #map {
        height: 450px;
        width: 100%;
    }
    
    .contact-form .form-control {
        border-radius: 8px;
        padding: 12px 15px;
        margin-bottom: 20px;
        border: 1px solid #dee2e6;
    }
    
    .contact-form .form-control:focus {
        box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.15);
    }
    
    .contact-form .btn-primary {
        padding: 12px 30px;
        border-radius: 8px;
        font-weight: 600;
    }
    
    .section-heading {
        position: relative;
        margin-bottom: 3rem;
        font-weight: 700;
    }
    
    .section-heading:after {
        content: '';
        position: absolute;
        bottom: -10px;
        left: 0;
        width: 70px;
        height: 4px;
        background-color: #0d6efd;
        border-radius: 2px;
    }
</style>
{% endblock extra_css %}

{% block content %}
<!-- Hero Section -->
<div class="bg-primary text-white py-5 mb-5">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-6">
                <h1 class="display-4 fw-bold mb-3">Liên hệ với chúng tôi</h1>
                <p class="lead opacity-75">Chúng tôi luôn sẵn sàng hỗ trợ và lắng nghe ý kiến của bạn. Hãy liên hệ với chúng tôi ngay hôm nay!</p>
            </div>
            <div class="col-md-6 d-none d-md-block text-end">
                <i class="bi bi-headset display-1 opacity-50"></i>
            </div>
        </div>
    </div>
</div>

<div class="container mb-5">
    <div class="row mb-5">
        <div class="col-md-4 mb-4 mb-md-0">
            <div class="card h-100 border-0 shadow-sm contact-card p-4 text-center">
                <div class="card-body">
                    <i class="bi bi-geo-alt-fill contact-icon"></i>
                    <h3 class="h4 mb-3">Địa chỉ</h3>
                    <p class="mb-0">33 Xô Viết Nghệ Tĩnh, Hoà Cường Nam, Hải Châu, Đà Nẵng</p>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-4 mb-md-0">
            <div class="card h-100 border-0 shadow-sm contact-card p-4 text-center">
                <div class="card-body">
                    <i class="bi bi-envelope-fill contact-icon"></i>
                    <h3 class="h4 mb-3">Email</h3>
                    <p class="mb-0">nguyenphuongtra@gmail.com</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card h-100 border-0 shadow-sm contact-card p-4 text-center">
                <div class="card-body">
                    <i class="bi bi-telephone-fill contact-icon"></i>
                    <h3 class="h4 mb-3">Điện thoại</h3>
                    <p class="mb-0">0365480142</p>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-6 mb-5 mb-lg-0">
            <h2 class="section-heading">Vị trí của chúng tôi</h2>
            <div class="map-container">
                <div id="map"></div>
            </div>
        </div>

        <div class="col-lg-6">
            <h2 class="section-heading">Gửi tin nhắn cho chúng tôi</h2>
            <form class="contact-form">
                <div class="row">
                    <div class="col-md-6">
                        <input type="text" class="form-control" placeholder="Họ và tên" required>
                    </div>
                    <div class="col-md-6">
                        <input type="email" class="form-control" placeholder="Email" required>
                    </div>
                </div>
                <input type="text" class="form-control" placeholder="Tiêu đề">
                <textarea class="form-control" rows="5" placeholder="Nội dung tin nhắn" required></textarea>
                <button type="submit" class="btn btn-primary">
                    <i class="bi bi-send-fill me-2"></i>Gửi tin nhắn
                </button>
            </form>
        </div>
    </div>
</div>

<div class="bg-light py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8 text-center">
                <h2 class="mb-4">Giờ làm việc</h2>
                <div class="row">
                    <div class="col-md-6">
                        <div class="card mb-3 border-0 shadow-sm">
                            <div class="card-body">
                                <h5 class="card-title">Thứ 2 - Thứ 6</h5>
                                <p class="card-text">8:00 AM - 6:00 PM</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card mb-3 border-0 shadow-sm">
                            <div class="card-body">
                                <h5 class="card-title">Thứ 7 - Chủ nhật</h5>
                                <p class="card-text">9:00 AM - 4:00 PM</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock content %}

{% block extra_js %}
<script src="https://maps.googleapis.com/maps/api/js?key={{ GOOGLE_MAPS_API_KEY }}&callback=initMap" async defer></script>
<script>
    function initMap() {
        const storeLocation = {lat: 16.0320722, lng: 108.2209118};
        const map = new google.maps.Map(document.getElementById('map'), {
            center: storeLocation,
            zoom: 15,
            styles: [
                {
                    "featureType": "administrative",
                    "elementType": "all",
                    "stylers": [{"saturation": "-100"}]
                },
                {
                    "featureType": "administrative.province",
                    "elementType": "all",
                    "stylers": [{"visibility": "off"}]
                },
                {
                    "featureType": "landscape",
                    "elementType": "all",
                    "stylers": [{"saturation": -100}, {"lightness": 65}, {"visibility": "on"}]
                },
                {
                    "featureType": "poi",
                    "elementType": "all",
                    "stylers": [{"saturation": -100}, {"lightness": "50"}, {"visibility": "simplified"}]
                },
                {
                    "featureType": "road",
                    "elementType": "all",
                    "stylers": [{"saturation": "-100"}]
                },
                {
                    "featureType": "road.highway",
                    "elementType": "all",
                    "stylers": [{"visibility": "simplified"}]
                },
                {
                    "featureType": "road.arterial",
                    "elementType": "all",
                    "stylers": [{"lightness": "30"}]
                },
                {
                    "featureType": "road.local",
                    "elementType": "all",
                    "stylers": [{"lightness": "40"}]
                },
                {
                    "featureType": "transit",
                    "elementType": "all",
                    "stylers": [{"saturation": -100}, {"visibility": "simplified"}]
                },
                {
                    "featureType": "water",
                    "elementType": "geometry",
                    "stylers": [{"hue": "#ffff00"}, {"lightness": -25}, {"saturation": -97}]
                },
                {
                    "featureType": "water",
                    "elementType": "labels",
                    "stylers": [{"lightness": -25}, {"saturation": -100}]
                }
            ]
        });

        const marker = new google.maps.Marker({
            position: storeLocation,
            map: map,
            title: 'Cửa hàng của chúng tôi',
            animation: google.maps.Animation.DROP
        });

        const contentString = '<div class="p-2">' +
            '<h5 class="mb-1">NEXTECH</h5>' +
            '<p class="mb-0">33 Xô Viết Nghệ Tĩnh, Hoà Cường Nam, Hải Châu, Đà Nẵng</p>' +
            '</div>';
            
        const infowindow = new google.maps.InfoWindow({
            content: contentString,
        });

        marker.addListener("click", () => {
            infowindow.open({
                anchor: marker,
                map,
            });
        });
        
        infowindow.open({
            anchor: marker,
            map,
        });
    }
</script>
{% endblock extra_js %}